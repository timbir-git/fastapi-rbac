import{n as L,s as Jn,m as he,H as xe,Y as I,c as K,r as ie,e as V,G as oe,D as Oe,z as X,i as We,a5 as Zn,A as He,a4 as Ne,J as Se,h as Je,F as Ke,V as nn,C as be,a$ as et,a as Ze,a1 as tn,R as Ae,b0 as nt,x as Be,q as on,a6 as tt,Z as Dn,$ as Cn,ah as ot,Q as Me,an as at,b1 as Ie,b2 as In,aN as Te,O as lt,P as it,b3 as ut,a_ as rt,aj as ct,aq as st,I as dt,au as ft}from"./index.851d8163.js";import{_ as vt,b as pt,u as mt}from"./index.5fedb982.js";import{T as gt,O as ht,i as bt,u as On,a as xn}from"./useState.ea7c1088.js";import{K as A}from"./KeyCode.59783313.js";import{x as Mn,w as ze}from"./useFlexGapSupport.66243b53.js";import{p as an}from"./index.647ff16d.js";import{c as ln,L as yt}from"./List.994b17ce.js";function Pn(n,e){var a=n.key,t;return"value"in n&&(t=n.value),a!=null?a:t!==void 0?t:"rc-index-key-".concat(e)}function Nn(n,e){var a=n||{},t=a.label,o=a.value,l=a.options;return{label:t||(e?"children":"label"),value:o||"value",options:l||"options"}}function St(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.fieldNames,t=e.childrenAsData,o=[],l=Nn(a,!1),u=l.label,s=l.value,d=l.options;function O(f,r){f.forEach(function(p){var g=p[u];if(r||!(d in p)){var w=p[s];o.push({key:Pn(p,o.length),groupOption:r,data:p,label:g,value:w})}else{var y=g;y===void 0&&t&&(y=p.label),o.push({key:Pn(p,o.length),group:!0,data:p,label:y}),O(p[d],!0)}})}return O(n,!1),o}function en(n){var e=L({},n);return"props"in e||Object.defineProperty(e,"props",{get:function(){return Jn(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}function wt(n,e){if(!e||!e.length)return null;var a=!1;function t(l,u){var s=vt(u),d=s[0],O=s.slice(1);if(!d)return[l];var f=l.split(d);return a=a||f.length>1,f.reduce(function(r,p){return[].concat(he(r),he(t(p,O)))},[]).filter(function(r){return r})}var o=t(n,e);return a?o:null}var Ct=globalThis&&globalThis.__rest||function(n,e){var a={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(a[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)e.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(a[t[o]]=n[t[o]]);return a},It=function(e){var a=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:a,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:a,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:a,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:a,adjustY:1}}}},Ot=xe({name:"SelectTrigger",inheritAttrs:!1,props:{dropdownAlign:Object,visible:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},dropdownClassName:String,dropdownStyle:I.object,placement:String,empty:{type:Boolean,default:void 0},prefixCls:String,popupClassName:String,animation:String,transitionName:String,getPopupContainer:Function,dropdownRender:Function,containerWidth:Number,dropdownMatchSelectWidth:I.oneOfType([Number,Boolean]).def(!0),popupElement:I.any,direction:String,getTriggerDOMNode:Function,onPopupVisibleChange:Function,onPopupMouseEnter:Function},setup:function(e,a){var t=a.slots,o=a.attrs,l=a.expose,u=K(function(){var d=e.dropdownMatchSelectWidth;return It(d)}),s=ie();return l({getPopupElement:function(){return s.value}}),function(){var d=L(L({},e),o),O=d.empty,f=O===void 0?!1:O,r=Ct(d,["empty"]),p=r.visible,g=r.dropdownAlign,w=r.prefixCls,y=r.popupElement,N=r.dropdownClassName,M=r.dropdownStyle,k=r.direction,H=k===void 0?"ltr":k,E=r.placement,C=r.dropdownMatchSelectWidth,h=r.containerWidth,c=r.dropdownRender,D=r.animation,m=r.transitionName,b=r.getPopupContainer,P=r.getTriggerDOMNode,B=r.onPopupVisibleChange,G=r.onPopupMouseEnter,U="".concat(w,"-dropdown"),Y=y;c&&(Y=c({menuNode:y,props:e}));var z=D?"".concat(U,"-").concat(D):m,q=L({minWidth:"".concat(h,"px")},M);return typeof C=="number"?q.width="".concat(C,"px"):C&&(q.width="".concat(h,"px")),V(gt,oe(oe({},e),{},{showAction:B?["click"]:[],hideAction:B?["click"]:[],popupPlacement:E||(H==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:u.value,prefixCls:U,popupTransitionName:z,popupAlign:g,popupVisible:p,getPopupContainer:b,popupClassName:Oe(N,X({},"".concat(U,"-empty"),f)),popupStyle:q,getTriggerDOMNode:P,onPopupVisibleChange:B}),{default:t.default,popup:function(){return V("div",{ref:s,onMouseenter:G},[Y])}})}}});const xt=Ot;var $e=function(e,a){var t=a.slots,o,l=e.class,u=e.customizeIcon,s=e.customizeIconProps,d=e.onMousedown,O=e.onClick,f;return typeof u=="function"?f=u(s):f=u,V("span",{class:l,onMousedown:function(p){p.preventDefault(),d&&d(p)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:O,"aria-hidden":!0},[f!==void 0?f:V("span",{class:l.split(/\s+/).map(function(r){return"".concat(r,"-icon")})},[(o=t.default)===null||o===void 0?void 0:o.call(t)])])};$e.inheritAttrs=!1;$e.displayName="TransBtn";$e.props={class:String,customizeIcon:I.any,customizeIconProps:I.any,onMousedown:Function,onClick:Function};const je=$e;var Pt={inputRef:I.any,prefixCls:String,id:String,inputElement:I.VueNode,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,editable:{type:Boolean,default:void 0},activeDescendantId:String,value:String,open:{type:Boolean,default:void 0},tabindex:I.oneOfType([I.number,I.string]),attrs:I.object,onKeydown:{type:Function},onMousedown:{type:Function},onChange:{type:Function},onPaste:{type:Function},onCompositionstart:{type:Function},onCompositionend:{type:Function},onFocus:{type:Function},onBlur:{type:Function}},Tt=xe({name:"Input",inheritAttrs:!1,props:Pt,setup:function(e){var a=null,t=We("VCSelectContainerEvent");return function(){var o,l=e.prefixCls,u=e.id,s=e.inputElement,d=e.disabled,O=e.tabindex,f=e.autofocus,r=e.autocomplete,p=e.editable,g=e.activeDescendantId,w=e.value,y=e.onKeydown,N=e.onMousedown,M=e.onChange,k=e.onPaste,H=e.onCompositionstart,E=e.onCompositionend,C=e.onFocus,h=e.onBlur,c=e.open,D=e.inputRef,m=e.attrs,b=s||Zn(V("input",null,null),[[pt]]),P=b.props||{},B=P.onKeydown,G=P.onInput,U=P.onFocus,Y=P.onBlur,z=P.onMousedown,q=P.onCompositionstart,J=P.onCompositionend,re=P.style;return b=Mn(b,L(L(L(L(L({type:"search"},P),{id:u,ref:D,disabled:d,tabindex:O,autocomplete:r||"off",autofocus:f,class:Oe("".concat(l,"-selection-search-input"),(o=b==null?void 0:b.props)===null||o===void 0?void 0:o.class),role:"combobox","aria-expanded":c,"aria-haspopup":"listbox","aria-owns":"".concat(u,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(u,"_list"),"aria-activedescendant":g}),m),{value:p?w:"",readonly:!p,unselectable:p?null:"on",style:L(L({},re),{opacity:p?null:0}),onKeydown:function(W){y(W),B&&B(W)},onMousedown:function(W){N(W),z&&z(W)},onInput:function(W){M(W),G&&G(W)},onCompositionstart:function(W){H(W),q&&q(W)},onCompositionend:function(W){E(W),J&&J(W)},onPaste:k,onFocus:function(){clearTimeout(a),U&&U(arguments.length<=0?void 0:arguments[0]),C&&C(arguments.length<=0?void 0:arguments[0]),t==null||t.focus(arguments.length<=0?void 0:arguments[0])},onBlur:function(){for(var W=arguments.length,ce=new Array(W),se=0;se<W;se++)ce[se]=arguments[se];a=setTimeout(function(){Y&&Y(ce[0]),h&&h(ce[0]),t==null||t.blur(ce[0])},100)}}),b.type==="textarea"?{}:{type:"search"}),!0,!0),b}}});const En=Tt;var Rn=Symbol("TreeSelectLegacyContextPropsKey");function Co(n){return He(Rn,n)}function un(){return We(Rn,{})}var Ft={id:String,prefixCls:String,values:I.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:I.any,placeholder:I.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:I.oneOfType([I.number,I.string]),removeIcon:I.any,choiceTransitionName:String,maxTagCount:I.oneOfType([I.number,I.string]),maxTagTextLength:Number,maxTagPlaceholder:I.any.def(function(){return function(n){return"+ ".concat(n.length," ...")}}),tagRender:Function,onToggleOpen:{type:Function},onRemove:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},Tn=function(e){e.preventDefault(),e.stopPropagation()},_t=xe({name:"MultipleSelectSelector",inheritAttrs:!1,props:Ft,setup:function(e){var a=ie(),t=ie(0),o=ie(!1),l=un(),u=K(function(){return"".concat(e.prefixCls,"-selection")}),s=K(function(){return e.open||e.mode==="tags"?e.searchValue:""}),d=K(function(){return e.mode==="tags"||e.showSearch&&(e.open||o.value)});Ne(function(){Se(s,function(){t.value=a.value.scrollWidth},{flush:"post",immediate:!0})});function O(g,w,y,N,M){return V("span",{class:Oe("".concat(u.value,"-item"),X({},"".concat(u.value,"-item-disabled"),y)),title:typeof g=="string"||typeof g=="number"?g.toString():void 0},[V("span",{class:"".concat(u.value,"-item-content")},[w]),N&&V(je,{class:"".concat(u.value,"-item-remove"),onMousedown:Tn,onClick:M,customizeIcon:e.removeIcon},{default:function(){return[Je("\xD7")]}})])}function f(g,w,y,N,M,k){var H,E=function(c){Tn(c),e.onToggleOpen(!open)},C=k;return l.keyEntities&&(C=((H=l.keyEntities[g])===null||H===void 0?void 0:H.node)||{}),V("span",{key:g,onMousedown:E},[e.tagRender({label:w,value:g,disabled:y,closable:N,onClose:M,option:C})])}function r(g){var w=g.disabled,y=g.label,N=g.value,M=g.option,k=!e.disabled&&!w,H=y;if(typeof e.maxTagTextLength=="number"&&(typeof y=="string"||typeof y=="number")){var E=String(H);E.length>e.maxTagTextLength&&(H="".concat(E.slice(0,e.maxTagTextLength),"..."))}var C=function(c){var D;c&&c.stopPropagation(),(D=e.onRemove)===null||D===void 0||D.call(e,g)};return typeof e.tagRender=="function"?f(N,H,w,k,C,M):O(y,H,w,k,C)}function p(g){var w=e.maxTagPlaceholder,y=w===void 0?function(M){return"+ ".concat(M.length," ...")}:w,N=typeof y=="function"?y(g):y;return O(N,N,!1)}return function(){var g=e.id,w=e.prefixCls,y=e.values,N=e.open,M=e.inputRef,k=e.placeholder,H=e.disabled,E=e.autofocus,C=e.autocomplete,h=e.activeDescendantId,c=e.tabindex,D=e.onInputChange,m=e.onInputPaste,b=e.onInputKeyDown,P=e.onInputMouseDown,B=e.onInputCompositionStart,G=e.onInputCompositionEnd,U=V("div",{class:"".concat(u.value,"-search"),style:{width:t.value+"px"},key:"input"},[V(En,{inputRef:M,open:N,prefixCls:w,id:g,inputElement:null,disabled:H,autofocus:E,autocomplete:C,editable:d.value,activeDescendantId:h,value:s.value,onKeydown:b,onMousedown:P,onChange:D,onPaste:m,onCompositionstart:B,onCompositionend:G,tabindex:c,attrs:an(e,!0),onFocus:function(){return o.value=!0},onBlur:function(){return o.value=!1}},null),V("span",{ref:a,class:"".concat(u.value,"-search-mirror"),"aria-hidden":!0},[s.value,Je("\xA0")])]),Y=V(ht,{prefixCls:"".concat(u.value,"-overflow"),data:y,renderItem:r,renderRest:p,suffix:U,itemKey:"key",maxCount:e.maxTagCount,key:"overflow"},null);return V(Ke,null,[Y,!y.length&&!s.value&&V("span",{class:"".concat(u.value,"-placeholder")},[k])])}}});const Vt=_t;var Dt={inputElement:I.any,id:String,prefixCls:String,values:I.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:I.any,placeholder:I.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:I.oneOfType([I.number,I.string]),activeValue:String,backfill:{type:Boolean,default:void 0},optionLabelRender:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},rn=xe({name:"SingleSelector",setup:function(e){var a=ie(!1),t=K(function(){return e.mode==="combobox"}),o=K(function(){return t.value||e.showSearch}),l=K(function(){var f=e.searchValue||"";return t.value&&e.activeValue&&!a.value&&(f=e.activeValue),f}),u=un();Se([t,function(){return e.activeValue}],function(){t.value&&(a.value=!1)},{immediate:!0});var s=K(function(){return e.mode!=="combobox"&&!e.open&&!e.showSearch?!1:!!l.value}),d=K(function(){var f=e.values[0];return f&&(typeof f.label=="string"||typeof f.label=="number")?f.label.toString():void 0}),O=function(){if(e.values[0])return null;var r=s.value?{visibility:"hidden"}:void 0;return V("span",{class:"".concat(e.prefixCls,"-selection-placeholder"),style:r},[e.placeholder])};return function(){var f,r,p,g,w=e.inputElement,y=e.prefixCls,N=e.id,M=e.values,k=e.inputRef,H=e.disabled,E=e.autofocus,C=e.autocomplete,h=e.activeDescendantId,c=e.open,D=e.tabindex,m=e.optionLabelRender,b=e.onInputKeyDown,P=e.onInputMouseDown,B=e.onInputChange,G=e.onInputPaste,U=e.onInputCompositionStart,Y=e.onInputCompositionEnd,z=M[0],q=null;if(z&&u.customSlots){var J=(f=z.key)!==null&&f!==void 0?f:z.value,re=((r=u.keyEntities[J])===null||r===void 0?void 0:r.node)||{};q=u.customSlots[(p=re.slots)===null||p===void 0?void 0:p.title]||u.customSlots.title||z.label,typeof q=="function"&&(q=q(re))}else q=m&&z?m(z.option):z==null?void 0:z.label;return V(Ke,null,[V("span",{class:"".concat(y,"-selection-search")},[V(En,{inputRef:k,prefixCls:y,id:N,open:c,inputElement:w,disabled:H,autofocus:E,autocomplete:C,editable:o.value,activeDescendantId:h,value:l.value,onKeydown:b,onMousedown:P,onChange:function(W){a.value=!0,B(W)},onPaste:G,onCompositionstart:U,onCompositionend:Y,tabindex:D,attrs:an(e,!0)},null)]),!t.value&&z&&!s.value&&V("span",{class:"".concat(y,"-selection-item"),title:d.value},[V(Ke,{key:(g=z.key)!==null&&g!==void 0?g:z.value},[q])]),O()])}}});rn.props=Dt;rn.inheritAttrs=!1;const Mt=rn;function Nt(n){return![A.ESC,A.SHIFT,A.BACKSPACE,A.TAB,A.WIN_KEY,A.ALT,A.META,A.WIN_KEY_RIGHT,A.CTRL,A.SEMICOLON,A.EQUALS,A.CAPS_LOCK,A.CONTEXT_MENU,A.F1,A.F2,A.F3,A.F4,A.F5,A.F6,A.F7,A.F8,A.F9,A.F10,A.F11,A.F12].includes(n)}function An(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=null,a;nn(function(){clearTimeout(a)});function t(o){(o||e===null)&&(e=o),clearTimeout(a),a=setTimeout(function(){e=null},n)}return[function(){return e},t]}var Et=xe({name:"Selector",inheritAttrs:!1,props:{id:String,prefixCls:String,showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},values:I.array,multiple:{type:Boolean,default:void 0},mode:String,searchValue:String,activeValue:String,inputElement:I.any,autofocus:{type:Boolean,default:void 0},activeDescendantId:String,tabindex:I.oneOfType([I.number,I.string]),disabled:{type:Boolean,default:void 0},placeholder:I.any,removeIcon:I.any,maxTagCount:I.oneOfType([I.number,I.string]),maxTagTextLength:Number,maxTagPlaceholder:I.any,tagRender:Function,optionLabelRender:Function,tokenWithEnter:{type:Boolean,default:void 0},choiceTransitionName:String,onToggleOpen:{type:Function},onSearch:Function,onSearchSubmit:Function,onRemove:Function,onInputKeyDown:{type:Function},domRef:Function},setup:function(e,a){var t=a.expose,o=ln(),l=!1,u=An(0),s=be(u,2),d=s[0],O=s[1],f=function(C){var h=C.which;(h===A.UP||h===A.DOWN)&&C.preventDefault(),e.onInputKeyDown&&e.onInputKeyDown(C),h===A.ENTER&&e.mode==="tags"&&!l&&!e.open&&e.onSearchSubmit(C.target.value),Nt(h)&&e.onToggleOpen(!0)},r=function(){O(!0)},p=null,g=function(C){e.onSearch(C,!0,l)!==!1&&e.onToggleOpen(!0)},w=function(){l=!0},y=function(C){l=!1,e.mode!=="combobox"&&g(C.target.value)},N=function(C){var h=C.target.value;if(e.tokenWithEnter&&p&&/[\r\n]/.test(p)){var c=p.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");h=h.replace(c,p)}p=null,g(h)},M=function(C){var h=C.clipboardData,c=h.getData("text");p=c},k=function(C){var h=C.target;if(h!==o.current){var c=document.body.style.msTouchAction!==void 0;c?setTimeout(function(){o.current.focus()}):o.current.focus()}},H=function(C){var h=d();C.target!==o.current&&!h&&C.preventDefault(),(e.mode!=="combobox"&&(!e.showSearch||!h)||!e.open)&&(e.open&&e.onSearch("",!0,!1),e.onToggleOpen())};return t({focus:function(){o.current.focus()},blur:function(){o.current.blur()}}),function(){var E=e.prefixCls,C=e.domRef,h=e.mode,c={inputRef:o,onInputKeyDown:f,onInputMouseDown:r,onInputChange:N,onInputPaste:M,onInputCompositionStart:w,onInputCompositionEnd:y},D=h==="multiple"||h==="tags"?V(Vt,oe(oe({},e),c),null):V(Mt,oe(oe({},e),c),null);return V("div",{ref:C,class:"".concat(E,"-selector"),onClick:k,onMousedown:H},[D])}}});const Rt=Et;function At(n,e,a){function t(o){var l,u,s,d=o.target;d.shadowRoot&&o.composed&&(d=o.composedPath()[0]||d);var O=[(l=n[0])===null||l===void 0?void 0:l.value,(s=(u=n[1])===null||u===void 0?void 0:u.value)===null||s===void 0?void 0:s.getPopupElement()];e.value&&O.every(function(f){return f&&!f.contains(d)&&f!==d})&&a(!1)}Ne(function(){window.addEventListener("mousedown",t)}),nn(function(){window.removeEventListener("mousedown",t)})}function Bt(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=ie(!1),a,t=function(){clearTimeout(a)};Ne(function(){t()});var o=function(u,s){t(),a=setTimeout(function(){e.value=u,s&&s()},n)};return[e,o,t]}var Bn=Symbol("BaseSelectContextKey");function Lt(n){return He(Bn,n)}function kt(){return We(Bn,{})}function Ln(n){if(!et(n))return Ze(n);var e=new Proxy({},{get:function(t,o,l){return Reflect.get(n.value,o,l)},set:function(t,o,l){return n.value[o]=l,!0},deleteProperty:function(t,o){return Reflect.deleteProperty(n.value,o)},has:function(t,o){return Reflect.has(n.value,o)},ownKeys:function(){return Object.keys(n.value)},getOwnPropertyDescriptor:function(){return{enumerable:!0,configurable:!0}}});return Ze(e)}var Kt=globalThis&&globalThis.__rest||function(n,e){var a={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(a[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)e.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(a[t[o]]=n[t[o]]);return a},jt=["value","onChange","removeIcon","placeholder","autofocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabindex","OptionList","notFoundContent"],Wt=function(){return{prefixCls:String,id:String,omitDomProps:Array,displayValues:Array,onDisplayValuesChange:Function,activeValue:String,activeDescendantId:String,onActiveValueChange:Function,searchValue:String,onSearch:Function,onSearchSplit:Function,maxLength:Number,OptionList:I.any,emptyOptions:Boolean}},kn=function(){return{showSearch:{type:Boolean,default:void 0},tagRender:{type:Function},optionLabelRender:{type:Function},direction:{type:String},tabindex:Number,autofocus:Boolean,notFoundContent:I.any,placeholder:I.any,onClear:Function,choiceTransitionName:String,mode:String,disabled:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},onDropdownVisibleChange:{type:Function},getInputElement:{type:Function},getRawInputElement:{type:Function},maxTagTextLength:Number,maxTagCount:{type:[String,Number]},maxTagPlaceholder:I.any,tokenSeparators:{type:Array},allowClear:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:void 0},inputIcon:I.any,clearIcon:I.any,removeIcon:I.any,animation:String,transitionName:String,dropdownStyle:{type:Object},dropdownClassName:String,dropdownMatchSelectWidth:{type:[Boolean,Number],default:void 0},dropdownRender:{type:Function},dropdownAlign:Object,placement:{type:String},getPopupContainer:{type:Function},showAction:{type:Array},onBlur:{type:Function},onFocus:{type:Function},onKeyup:Function,onKeydown:Function,onMousedown:Function,onPopupScroll:Function,onInputKeyDown:Function,onMouseenter:Function,onMouseleave:Function,onClick:Function}},Ht=function(){return L(L({},Wt()),kn())};function cn(n){return n==="tags"||n==="multiple"}const zt=xe({name:"BaseSelect",inheritAttrs:!1,props:tn(Ht(),{showAction:[],notFoundContent:"Not Found"}),setup:function(e,a){var t=a.attrs,o=a.expose,l=a.slots,u=K(function(){return cn(e.mode)}),s=K(function(){return e.showSearch!==void 0?e.showSearch:u.value||e.mode==="combobox"}),d=ie(!1);Ne(function(){d.value=bt()});var O=un(),f=ie(null),r=ln(),p=ie(null),g=ie(null),w=ie(null),y=Bt(),N=be(y,3),M=N[0],k=N[1],H=N[2],E=function(){var i;(i=g.value)===null||i===void 0||i.focus()},C=function(){var i;(i=g.value)===null||i===void 0||i.blur()};o({focus:E,blur:C,scrollTo:function(i){var F;return(F=w.value)===null||F===void 0?void 0:F.scrollTo(i)}});var h=K(function(){var T;if(e.mode!=="combobox")return e.searchValue;var i=(T=e.displayValues[0])===null||T===void 0?void 0:T.value;return typeof i=="string"||typeof i=="number"?String(i):""}),c=e.open!==void 0?e.open:e.defaultOpen,D=ie(c),m=ie(c),b=function(i){D.value=e.open!==void 0?e.open:i,m.value=D.value};Se(function(){return e.open},function(){b(e.open)});var P=K(function(){return!e.notFoundContent&&e.emptyOptions});Ae(function(){m.value=D.value,(e.disabled||P.value&&m.value&&e.mode==="combobox")&&(m.value=!1)});var B=K(function(){return P.value?!1:m.value}),G=function(i){var F=i!==void 0?i:!m.value;D.value!==F&&!e.disabled&&(b(F),e.onDropdownVisibleChange&&e.onDropdownVisibleChange(F))},U=K(function(){return(e.tokenSeparators||[]).some(function(T){return[`
`,`\r
`].includes(T)})}),Y=function(i,F,ne){var $,Q,te=!0,le=i;($=e.onActiveValueChange)===null||$===void 0||$.call(e,null);var _=ne?null:wt(i,e.tokenSeparators);return e.mode!=="combobox"&&_&&(le="",(Q=e.onSearchSplit)===null||Q===void 0||Q.call(e,_),G(!1),te=!1),e.onSearch&&h.value!==le&&e.onSearch(le,{source:F?"typing":"effect"}),te},z=function(i){var F;!i||!i.trim()||(F=e.onSearch)===null||F===void 0||F.call(e,i,{source:"submit"})};Se(m,function(){!m.value&&!u.value&&e.mode!=="combobox"&&Y("",!1,!1)},{immediate:!0,flush:"post"}),Se(function(){return e.disabled},function(){D.value&&!!e.disabled&&b(!1)},{immediate:!0});var q=An(),J=be(q,2),re=J[0],Z=J[1],W=function(i){var F,ne,$=re(),Q=i.which;if(Q===A.ENTER&&(e.mode!=="combobox"&&i.preventDefault(),m.value||G(!0)),Z(!!h.value),Q===A.BACKSPACE&&!$&&u.value&&!h.value&&e.displayValues.length){for(var te=he(e.displayValues),le=null,_=te.length-1;_>=0;_-=1){var v=te[_];if(!v.disabled){te.splice(_,1),le=v;break}}le&&e.onDisplayValuesChange(te,{type:"remove",values:[le]})}for(var S=arguments.length,x=new Array(S>1?S-1:0),R=1;R<S;R++)x[R-1]=arguments[R];if(m.value&&w.value){var j;(j=w.value).onKeydown.apply(j,[i].concat(x))}(ne=e.onKeydown)===null||ne===void 0||(F=ne).call.apply(F,[e,i].concat(x))},ce=function(i){for(var F=arguments.length,ne=new Array(F>1?F-1:0),$=1;$<F;$++)ne[$-1]=arguments[$];if(m.value&&w.value){var Q;(Q=w.value).onKeyup.apply(Q,[i].concat(ne))}e.onKeyup&&e.onKeyup.apply(e,[i].concat(ne))},se=function(i){var F=e.displayValues.filter(function(ne){return ne!==i});e.onDisplayValuesChange(F,{type:"remove",values:[i]})},ae=ie(!1),de=function(){k(!0),e.disabled||(e.onFocus&&!ae.value&&e.onFocus.apply(e,arguments),e.showAction&&e.showAction.includes("focus")&&G(!0)),ae.value=!0},pe=function(){if(k(!1,function(){ae.value=!1,G(!1)}),!e.disabled){var i=h.value;i&&(e.mode==="tags"?e.onSearch(i,{source:"submit"}):e.mode==="multiple"&&e.onSearch("",{source:"blur"})),e.onBlur&&e.onBlur.apply(e,arguments)}};He("VCSelectContainerEvent",{focus:de,blur:pe});var ee=[];Ne(function(){ee.forEach(function(T){return clearTimeout(T)}),ee.splice(0,ee.length)}),nn(function(){ee.forEach(function(T){return clearTimeout(T)}),ee.splice(0,ee.length)});var Fe=function(i){var F,ne,$,Q=i.target,te=(ne=p.value)===null||ne===void 0?void 0:ne.getPopupElement();if(te&&te.contains(Q)){var le=setTimeout(function(){var x,R=ee.indexOf(le);R!==-1&&ee.splice(R,1),H(),!d.value&&!te.contains(document.activeElement)&&((x=g.value)===null||x===void 0||x.focus())});ee.push(le)}for(var _=arguments.length,v=new Array(_>1?_-1:0),S=1;S<_;S++)v[S-1]=arguments[S];($=e.onMousedown)===null||$===void 0||(F=$).call.apply(F,[e,i].concat(v))},fe=ie(null),Pe=tt(),_e=function(){Pe.update()};return Ne(function(){Se(B,function(){var T;if(B.value){var i=Math.ceil((T=f.value)===null||T===void 0?void 0:T.offsetWidth);fe.value!==i&&!Number.isNaN(i)&&(fe.value=i)}},{immediate:!0,flush:"post"})}),At([f,p],B,G),Lt(Ln(L(L({},nt(e)),{open:m,triggerOpen:B,showSearch:s,multiple:u,toggleOpen:G}))),function(){var T,i=L(L({},e),t),F=i.prefixCls,ne=i.id;i.open,i.defaultOpen;var $=i.mode;i.showSearch,i.searchValue,i.onSearch;var Q=i.allowClear,te=i.clearIcon,le=i.showArrow,_=i.inputIcon,v=i.disabled,S=i.loading,x=i.getInputElement,R=i.getPopupContainer,j=i.placement,me=i.animation,ve=i.transitionName,we=i.dropdownStyle,Ve=i.dropdownClassName,ue=i.dropdownMatchSelectWidth,Ue=i.dropdownRender,pn=i.dropdownAlign;i.showAction;var Ee=i.direction;i.tokenSeparators;var Ce=i.tagRender,De=i.optionLabelRender;i.onPopupScroll,i.onDropdownVisibleChange,i.onFocus,i.onBlur,i.onKeyup,i.onKeydown,i.onMousedown;var Ge=i.onClear,Xe=i.omitDomProps,mn=i.getRawInputElement,Le=i.displayValues,Wn=i.onDisplayValuesChange,Hn=i.emptyOptions,zn=i.activeDescendantId,$n=i.activeValue,Un=i.OptionList,Gn=Kt(i,["prefixCls","id","open","defaultOpen","mode","showSearch","searchValue","onSearch","allowClear","clearIcon","showArrow","inputIcon","disabled","loading","getInputElement","getPopupContainer","placement","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","optionLabelRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyup","onKeydown","onMousedown","onClear","omitDomProps","getRawInputElement","displayValues","onDisplayValuesChange","emptyOptions","activeDescendantId","activeValue","OptionList"]),gn=$==="combobox"&&x&&x()||null,Re=typeof mn=="function"&&mn(),Ye=L({},Gn),hn;Re&&(hn=function(ke){G(ke)}),jt.forEach(function(ge){delete Ye[ge]}),Xe==null||Xe.forEach(function(ge){delete Ye[ge]});var bn=le!==void 0?le:S||!u.value&&$!=="combobox",yn;bn&&(yn=V(je,{class:Oe("".concat(F,"-arrow"),X({},"".concat(F,"-arrow-loading"),S)),customizeIcon:_,customizeIconProps:{loading:S,searchValue:h.value,open:m.value,focused:M.value,showSearch:s.value}},null));var Sn,Xn=function(){Ge==null||Ge(),Wn([],{type:"clear",values:Le}),Y("",!1,!1)};!v&&Q&&(Le.length||h.value)&&(Sn=V(je,{class:"".concat(F,"-clear"),onMousedown:Xn,customizeIcon:te},{default:function(){return[Je("\xD7")]}}));var Yn=V(Un,{ref:w},L(L({},O.customSlots),{option:l.option})),qn=Oe(F,t.class,(T={},X(T,"".concat(F,"-focused"),M.value),X(T,"".concat(F,"-multiple"),u.value),X(T,"".concat(F,"-single"),!u.value),X(T,"".concat(F,"-allow-clear"),Q),X(T,"".concat(F,"-show-arrow"),bn),X(T,"".concat(F,"-disabled"),v),X(T,"".concat(F,"-loading"),S),X(T,"".concat(F,"-open"),m.value),X(T,"".concat(F,"-customize-input"),gn),X(T,"".concat(F,"-show-search"),s.value),T)),wn=V(xt,{ref:p,disabled:v,prefixCls:F,visible:B.value,popupElement:Yn,containerWidth:fe.value,animation:me,transitionName:ve,dropdownStyle:we,dropdownClassName:Ve,direction:Ee,dropdownMatchSelectWidth:ue,dropdownRender:Ue,dropdownAlign:pn,placement:j,getPopupContainer:R,empty:Hn,getTriggerDOMNode:function(){return r.current},onPopupVisibleChange:hn,onPopupMouseEnter:_e},{default:function(){return Re?Be(Re)&&Mn(Re,{ref:r},!1,!0):V(Rt,oe(oe({},e),{},{domRef:r,prefixCls:F,inputElement:gn,ref:g,id:ne,showSearch:s.value,mode:$,activeDescendantId:zn,tagRender:Ce,optionLabelRender:De,values:Le,open:m.value,onToggleOpen:G,activeValue:$n,searchValue:h.value,onSearch:Y,onSearchSubmit:z,onRemove:se,tokenWithEnter:U.value}),null)}}),qe;return Re?qe=wn:qe=V("div",oe(oe({},Ye),{},{class:qn,ref:f,onMousedown:Fe,onKeydown:W,onKeyup:ce}),[M.value&&!m.value&&V("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},["".concat(Le.map(function(ge){var ke=ge.label,Qn=ge.value;return["number","string"].includes(on(ke))?ke:Qn}).join(", "))]),wn,yn,Sn]),qe}}});function $t(n,e,a){var t=ie(n());return Se(e,function(o,l){a?a(o,l)&&(t.value=n()):t.value=n()}),t}function Ut(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var Kn=Symbol("SelectContextKey");function Gt(n){return He(Kn,n)}function Xt(){return We(Kn,{})}var Yt=globalThis&&globalThis.__rest||function(n,e){var a={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(a[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)e.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(a[t[o]]=n[t[o]]);return a};function Fn(n){return typeof n=="string"||typeof n=="number"}var qt=xe({name:"OptionList",inheritAttrs:!1,slots:["option"],setup:function(e,a){var t=a.expose,o=a.slots,l=kt(),u=Xt(),s=K(function(){return"".concat(l.prefixCls,"-item")}),d=$t(function(){return u.flattenOptions},[function(){return l.open},function(){return u.flattenOptions}],function(h){return h[0]}),O=ln(),f=function(c){c.preventDefault()},r=function(c){O.current&&O.current.scrollTo(typeof c=="number"?{index:c}:c)},p=function(c){for(var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,m=d.value.length,b=0;b<m;b+=1){var P=(c+b*D+m)%m,B=d.value[P],G=B.group,U=B.data;if(!G&&!U.disabled)return P}return-1},g=Ze({activeIndex:p(0)}),w=function(c){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;g.activeIndex=c;var m={source:D?"keyboard":"mouse"},b=d.value[c];if(!b){u.onActiveValue(null,-1,m);return}u.onActiveValue(b.value,c,m)};Se([function(){return d.value.length},function(){return l.searchValue}],function(){w(u.defaultActiveFirstOption!==!1?p(0):-1)},{immediate:!0});var y=function(c){return u.rawValues.has(c)&&l.mode!=="combobox"};Se([function(){return l.open},function(){return l.searchValue}],function(){if(!l.multiple&&l.open&&u.rawValues.size===1){var h=Array.from(u.rawValues)[0],c=Dn(d.value).findIndex(function(D){var m=D.data;return m[u.fieldNames.value]===h});c!==-1&&(w(c),Cn(function(){r(c)}))}l.open&&Cn(function(){var D;(D=O.current)===null||D===void 0||D.scrollTo(void 0)})},{immediate:!0,flush:"post"});var N=function(c){c!==void 0&&u.onSelect(c,{selected:!u.rawValues.has(c)}),l.multiple||l.toggleOpen(!1)},M=function(c){return typeof c.label=="function"?c.label():c.label};function k(h){var c=d.value[h];if(!c)return null;var D=c.data||{},m=D.value,b=c.group,P=an(D,!0),B=M(c);return c?V("div",oe(oe({"aria-label":typeof B=="string"&&!b?B:null},P),{},{key:h,role:b?"presentation":"option",id:"".concat(l.id,"_list_").concat(h),"aria-selected":y(m)}),[m]):null}var H=function(c){var D=c.which,m=c.ctrlKey;switch(D){case A.N:case A.P:case A.UP:case A.DOWN:{var b=0;if(D===A.UP?b=-1:D===A.DOWN?b=1:Ut()&&m&&(D===A.N?b=1:D===A.P&&(b=-1)),b!==0){var P=p(g.activeIndex+b,b);r(P),w(P,!0)}break}case A.ENTER:{var B=d.value[g.activeIndex];B&&!B.data.disabled?N(B.value):N(void 0),l.open&&c.preventDefault();break}case A.ESC:l.toggleOpen(!1),l.open&&c.stopPropagation()}},E=function(){},C=function(c){r(c)};return t({onKeydown:H,onKeyup:E,scrollTo:C}),function(){var h=l.id,c=l.notFoundContent,D=l.onPopupScroll,m=u.menuItemSelectedIcon,b=u.fieldNames,P=u.virtual,B=u.listHeight,G=u.listItemHeight,U=o.option,Y=g.activeIndex,z=Object.keys(b).map(function(q){return b[q]});return d.value.length===0?V("div",{role:"listbox",id:"".concat(h,"_list"),class:"".concat(s.value,"-empty"),onMousedown:f},[c]):V(Ke,null,[V("div",{role:"listbox",id:"".concat(h,"_list"),style:{height:0,width:0,overflow:"hidden"}},[k(Y-1),k(Y),k(Y+1)]),V(yt,{itemKey:"key",ref:O,data:d.value,height:B,itemHeight:G,fullHeight:!1,onMousedown:f,onScroll:D,virtual:P},{default:function(J,re){var Z,W,ce=J.group,se=J.groupOption,ae=J.data,de=J.value,pe=ae.key,ee=typeof J.label=="function"?J.label():J.label;if(ce){var Fe=(W=ae.title)!==null&&W!==void 0?W:Fn(ee)&&ee;return V("div",{class:Oe(s.value,"".concat(s.value,"-group")),title:Fe},[U?U(ae):ee!==void 0?ee:pe])}var fe=ae.disabled,Pe=ae.title;ae.children;var _e=ae.style,T=ae.class,i=ae.className,F=Yt(ae,["disabled","title","children","style","class","className"]),ne=ze(F,z),$=y(de),Q="".concat(s.value,"-option"),te=Oe(s.value,Q,T,i,(Z={},X(Z,"".concat(Q,"-grouped"),se),X(Z,"".concat(Q,"-active"),Y===re&&!fe),X(Z,"".concat(Q,"-disabled"),fe),X(Z,"".concat(Q,"-selected"),$),Z)),le=M(J),_=!m||typeof m=="function"||$,v=typeof le=="number"?le:le||de,S=Fn(v)?v.toString():void 0;return Pe!==void 0&&(S=Pe),V("div",oe(oe({},ne),{},{"aria-selected":$,class:te,title:S,onMousemove:function(R){F.onMousemove&&F.onMousemove(R),!(Y===re||fe)&&w(re)},onClick:function(R){fe||N(de),F.onClick&&F.onClick(R)},style:_e}),[V("div",{class:"".concat(Q,"-content")},[U?U(ae):v]),Be(m)||$,_&&V(je,{class:"".concat(s.value,"-option-state"),customizeIcon:m,customizeIconProps:{isSelected:$}},{default:function(){return[$?"\u2713":null]}})])}})])}}});const Qt=qt;var Jt=globalThis&&globalThis.__rest||function(n,e){var a={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(a[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)e.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(a[t[o]]=n[t[o]]);return a};function Zt(n){var e=n,a=e.key,t=e.children,o=e.props,l=o.value,u=o.disabled,s=Jt(o,["value","disabled"]),d=t==null?void 0:t.default;return L({key:a,value:l!==void 0?l:a,children:d,disabled:u||u===""},s)}function sn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=ot(n).map(function(t,o){var l;if(!Be(t)||!t.type)return null;var u=t.type.isSelectOptGroup,s=t.key,d=t.children,O=t.props;if(e||!u)return Zt(t);var f=d&&d.default?d.default():void 0,r=(O==null?void 0:O.label)||((l=d.label)===null||l===void 0?void 0:l.call(d))||s;return L(L({key:"__RC_SELECT_GRP__".concat(s===null?o:String(s),"__")},O),{label:r,options:sn(f||[])})}).filter(function(t){return t});return a}function eo(n,e,a){var t=Me(),o=Me(),l=Me(),u=Me([]);return Se([n,e],function(){n.value?u.value=Dn(n.value).slice():u.value=sn(e.value)},{immediate:!0,deep:!0}),Ae(function(){var s=u.value,d=new Map,O=new Map,f=a.value;function r(p){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=0;w<p.length;w+=1){var y=p[w];!y[f.options]||g?(d.set(y[f.value],y),O.set(y[f.label],y)):r(y[f.options],!0)}}r(s),t.value=s,o.value=d,l.value=O}),{options:t,valueOptions:o,labelOptions:l}}var _n=0,no=at();function to(){var n;return no?(n=_n,_n+=1):n="TEST_OR_SSR",n}function oo(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ie(""),e="rc_select_".concat(to());return n.value||e}function dn(n){return Array.isArray(n)?n:n!==void 0?[n]:[]}function ao(n){var e=n.mode,a=n.options,t=n.children,o=n.backfill,l=n.allowClear,u=n.placeholder,s=n.getInputElement,d=n.showSearch,O=n.onSearch,f=n.defaultOpen,r=n.autofocus,p=n.labelInValue,g=n.value,w=n.inputValue,y=n.optionLabelProp,N=cn(e),M=d!==void 0?d:N||e==="combobox",k=a||sn(t);if(Ie(e!=="tags"||k.every(function(C){return!C.disabled}),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),Ie(e!=="combobox"||!y,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),Ie(e==="combobox"||!o,"`backfill` only works with `combobox` mode."),Ie(e==="combobox"||!s,"`getInputElement` only work with `combobox` mode."),In(e!=="combobox"||!s||!l||!u,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),O&&!M&&e!=="combobox"&&e!=="tags"&&Ie(!1,"`onSearch` should work with `showSearch` instead of use alone."),In(!f||r,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autofocus` if needed."),g!=null){var H=dn(g);Ie(!p||H.every(function(C){return on(C)==="object"&&("key"in C||"value"in C)}),"`value` should in shape of `{ value: string | number, label?: any }` when you set `labelInValue` to `true`"),Ie(!N||Array.isArray(g),"`value` should be array when `mode` is `multiple` or `tags`")}if(t){var E=null;t.some(function(C){var h;if(!Be(C)||!C.type)return!1;var c=C.type;if(c.isSelectOption)return!1;if(c.isSelectOptGroup){var D=((h=C.children)===null||h===void 0?void 0:h.default())||[],m=D.every(function(b){return!Be(b)||!C.type||b.type.isSelectOption?!0:(E=b.type,!1)});return!m}return E=c,!0}),E&&Ie(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(E.displayName||E.name||E,"`.")),Ie(w===void 0,"`inputValue` is deprecated, please use `searchValue` instead.")}}function Qe(n,e){return dn(n).join("").toUpperCase().includes(e)}const lo=function(n,e,a,t,o){return K(function(){var l=a.value,u=o==null?void 0:o.value,s=t==null?void 0:t.value;if(!l||s===!1)return n.value;var d=e.value,O=d.options,f=d.label,r=d.value,p=[],g=typeof s=="function",w=l.toUpperCase(),y=g?s:function(M,k){return u?Qe(k[u],w):k[O]?Qe(k[f!=="children"?f:"label"],w):Qe(k[r],w)},N=g?function(M){return en(M)}:function(M){return M};return n.value.forEach(function(M){if(M[O]){var k=y(l,N(M));if(k)p.push(M);else{var H=M[O].filter(function(E){return y(l,N(E))});H.length&&p.push(L(L({},M),X({},O,H)))}return}y(l,N(M))&&p.push(M)}),p})},io=function(n,e){var a=Me({values:new Map,options:new Map}),t=K(function(){var l=a.value,u=l.values,s=l.options,d=n.value.map(function(r){var p;return r.label===void 0?L(L({},r),{label:(p=u.get(r.value))===null||p===void 0?void 0:p.label}):r}),O=new Map,f=new Map;return d.forEach(function(r){O.set(r.value,r),f.set(r.value,e.value.get(r.value)||s.get(r.value))}),a.value.values=O,a.value.options=f,d}),o=function(u){return e.value.get(u)||a.value.options.get(u)};return[t,o]};var uo=["inputValue"];function jn(){return L(L({},kn()),{prefixCls:String,id:String,backfill:{type:Boolean,default:void 0},fieldNames:Object,inputValue:String,searchValue:String,onSearch:Function,autoClearSearchValue:{type:Boolean,default:void 0},onSelect:Function,onDeselect:Function,filterOption:{type:[Boolean,Function],default:void 0},filterSort:Function,optionFilterProp:String,optionLabelProp:String,options:Array,defaultActiveFirstOption:{type:Boolean,default:void 0},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,menuItemSelectedIcon:I.any,mode:String,labelInValue:{type:Boolean,default:void 0},value:I.any,defaultValue:I.any,onChange:Function,children:Array})}function ro(n){return!n||on(n)!=="object"}const co=xe({name:"Select",inheritAttrs:!1,props:tn(jn(),{prefixCls:"vc-select",autoClearSearchValue:!0,listHeight:200,listItemHeight:20,dropdownMatchSelectWidth:!0}),setup:function(e,a){var t=a.expose,o=a.attrs,l=a.slots,u=oo(Te(e,"id")),s=K(function(){return cn(e.mode)}),d=K(function(){return!!(!e.options&&e.children)}),O=K(function(){return e.filterOption===void 0&&e.mode==="combobox"?!1:e.filterOption}),f=K(function(){return Nn(e.fieldNames,d.value)}),r=On("",{value:K(function(){return e.searchValue!==void 0?e.searchValue:e.inputValue}),postState:function(v){return v||""}}),p=be(r,2),g=p[0],w=p[1],y=eo(Te(e,"options"),Te(e,"children"),f),N=y.valueOptions,M=y.labelOptions,k=y.options,H=function(v){var S=dn(v);return S.map(function(x){var R,j,me,ve,we,Ve;ro(x)?me=x:(we=x.key,ve=x.label,me=(R=x.value)!==null&&R!==void 0?R:we);var ue=N.value.get(me);return ue&&(ve===void 0&&(ve=ue==null?void 0:ue[e.optionLabelProp||f.value.label]),we===void 0&&(we=(j=ue==null?void 0:ue.key)!==null&&j!==void 0?j:me),Ve=ue==null?void 0:ue.disabled),{label:ve,value:me,key:we,disabled:Ve,option:ue}})},E=On(e.defaultValue,{value:Te(e,"value")}),C=be(E,2),h=C[0],c=C[1],D=K(function(){var _,v=H(h.value);return e.mode==="combobox"&&!(!((_=v[0])===null||_===void 0)&&_.value)?[]:v}),m=io(D,N),b=be(m,2),P=b[0],B=b[1],G=K(function(){if(!e.mode&&P.value.length===1){var _=P.value[0];if(_.value===null&&(_.label===null||_.label===void 0))return[]}return P.value.map(function(v){var S;return L(L({},v),{label:(S=typeof v.label=="function"?v.label():v.label)!==null&&S!==void 0?S:v.value})})}),U=K(function(){return new Set(P.value.map(function(_){return _.value}))});Ae(function(){var _;if(e.mode==="combobox"){var v=(_=P.value[0])===null||_===void 0?void 0:_.value;v!=null&&w(String(v))}},{flush:"post"});var Y=function(v,S){var x,R=S!=null?S:v;return x={},X(x,f.value.value,v),X(x,f.value.label,R),x},z=Me();Ae(function(){if(e.mode!=="tags"){z.value=k.value;return}var _=k.value.slice(),v=function(x){return N.value.has(x)};he(P.value).sort(function(S,x){return S.value<x.value?-1:1}).forEach(function(S){var x=S.value;v(x)||_.push(Y(x,S.label))}),z.value=_});var q=lo(z,f,g,O,Te(e,"optionFilterProp")),J=K(function(){return e.mode!=="tags"||!g.value||q.value.some(function(_){return _[e.optionFilterProp||"value"]===g.value})?q.value:[Y(g.value)].concat(he(q.value))}),re=K(function(){return e.filterSort?he(J.value).sort(function(_,v){return e.filterSort(_,v)}):J.value}),Z=K(function(){return St(re.value,{fieldNames:f.value,childrenAsData:d.value})}),W=function(v){var S=H(v);if(c(S),e.onChange&&(S.length!==P.value.length||S.some(function(j,me){var ve;return((ve=P.value[me])===null||ve===void 0?void 0:ve.value)!==(j==null?void 0:j.value)}))){var x=e.labelInValue?S.map(function(j){return L(L({},j),{originLabel:j.label,label:typeof j.label=="function"?j.label():j.label})}):S.map(function(j){return j.value}),R=S.map(function(j){return en(B(j.value))});e.onChange(s.value?x:x[0],s.value?R:R[0])}},ce=xn(null),se=be(ce,2),ae=se[0],de=se[1],pe=xn(0),ee=be(pe,2),Fe=ee[0],fe=ee[1],Pe=K(function(){return e.defaultActiveFirstOption!==void 0?e.defaultActiveFirstOption:e.mode!=="combobox"}),_e=function(v,S){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=x.source,j=R===void 0?"keyboard":R;fe(S),e.backfill&&e.mode==="combobox"&&v!==null&&j==="keyboard"&&de(String(v))},T=function(v,S){var x=function(){var Ee,Ce=B(v),De=Ce==null?void 0:Ce[f.value.label];return[e.labelInValue?{label:typeof De=="function"?De():De,originLabel:De,value:v,key:(Ee=Ce==null?void 0:Ce.key)!==null&&Ee!==void 0?Ee:v}:v,en(Ce)]};if(S&&e.onSelect){var R=x(),j=be(R,2),me=j[0],ve=j[1];e.onSelect(me,ve)}else if(!S&&e.onDeselect){var we=x(),Ve=be(we,2),ue=Ve[0],Ue=Ve[1];e.onDeselect(ue,Ue)}},i=function(v,S){var x,R=s.value?S.selected:!0;R?x=s.value?[].concat(he(P.value),[v]):[v]:x=P.value.filter(function(j){return j.value!==v}),W(x),T(v,R),e.mode==="combobox"?de(""):(!s.value||e.autoClearSearchValue)&&(w(""),de(""))},F=function(v,S){W(v),(S.type==="remove"||S.type==="clear")&&S.values.forEach(function(x){T(x.value,!1)})},ne=function(v,S){var x;if(w(v),de(null),S.source==="submit"){var R=(v||"").trim();if(R){var j=Array.from(new Set([].concat(he(U.value),[R])));W(j),T(R,!0),w("")}return}S.source!=="blur"&&(e.mode==="combobox"&&W(v),(x=e.onSearch)===null||x===void 0||x.call(e,v))},$=function(v){var S=v;e.mode!=="tags"&&(S=v.map(function(R){var j=M.value.get(R);return j==null?void 0:j.value}).filter(function(R){return R!==void 0}));var x=Array.from(new Set([].concat(he(U.value),he(S))));W(x),x.forEach(function(R){T(R,!0)})},Q=K(function(){return e.virtual!==!1&&e.dropdownMatchSelectWidth!==!1});Gt(Ln(L(L({},y),{flattenOptions:Z,onActiveValue:_e,defaultActiveFirstOption:Pe,onSelect:i,menuItemSelectedIcon:Te(e,"menuItemSelectedIcon"),rawValues:U,fieldNames:f,virtual:Q,listHeight:Te(e,"listHeight"),listItemHeight:Te(e,"listItemHeight"),childrenAsData:d}))),Ae(function(){ao(e)},{flush:"post"});var te=ie();t({focus:function(){var v;(v=te.value)===null||v===void 0||v.focus()},blur:function(){var v;(v=te.value)===null||v===void 0||v.blur()},scrollTo:function(v){var S;(S=te.value)===null||S===void 0||S.scrollTo(v)}});var le=K(function(){return ze(e,["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"])});return function(){return V(zt,oe(oe(oe({},le.value),o),{},{id:u,prefixCls:e.prefixCls,ref:te,omitDomProps:uo,mode:e.mode,displayValues:G.value,onDisplayValuesChange:F,searchValue:g.value,onSearch:ne,onSearchSplit:$,dropdownMatchSelectWidth:e.dropdownMatchSelectWidth,OptionList:Qt,emptyOptions:!Z.value.length,activeValue:ae.value,activeDescendantId:"".concat(u,"_list_").concat(Fe.value)}),l)}}});var fn=function(){return null};fn.isSelectOption=!0;fn.displayName="ASelectOption";const so=fn;var vn=function(){return null};vn.isSelectOptGroup=!0;vn.displayName="ASelectOptGroup";const fo=vn;function vo(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.loading,t=n.multiple,o=n.prefixCls,l=n.suffixIcon||e.suffixIcon&&e.suffixIcon(),u=n.clearIcon||e.clearIcon&&e.clearIcon(),s=n.menuItemSelectedIcon||e.menuItemSelectedIcon&&e.menuItemSelectedIcon(),d=n.removeIcon||e.removeIcon&&e.removeIcon(),O=u;u||(O=V(lt,null,null));var f=null;if(l!==void 0)f=l;else if(a)f=V(it,{spin:!0},null);else{var r="".concat(o,"-suffix");f=function(y){var N=y.open,M=y.showSearch;return N&&M?V(ct,{class:r},null):V(st,{class:r},null)}}var p=null;s!==void 0?p=s:t?p=V(ut,null,null):p=null;var g=null;return d!==void 0?g=d:g=V(rt,null,null),{clearIcon:O,suffixIcon:f,itemIcon:p,removeIcon:g}}var po=function(){return L(L({},ze(jn(),["inputIcon","mode","getInputElement","getRawInputElement","backfill"])),{value:{type:[Array,Object,String,Number]},defaultValue:{type:[Array,Object,String,Number]},notFoundContent:I.any,suffixIcon:I.any,itemIcon:I.any,size:String,mode:String,bordered:{type:Boolean,default:!0},transitionName:String,choiceTransitionName:{type:String,default:""},"onUpdate:value":Function})},Vn="SECRET_COMBOBOX_MODE_DO_NOT_USE",ye=xe({name:"ASelect",Option:so,OptGroup:fo,inheritAttrs:!1,props:tn(po(),{listHeight:256,listItemHeight:24}),SECRET_COMBOBOX_MODE_DO_NOT_USE:Vn,slots:["notFoundContent","suffixIcon","itemIcon","removeIcon","clearIcon","dropdownRender","option","placeholder","tagRender","maxTagPlaceholder","optionLabel"],setup:function(e,a){var t=a.attrs,o=a.emit,l=a.slots,u=a.expose,s=ie(),d=mt(),O=function(){var b;(b=s.value)===null||b===void 0||b.focus()},f=function(){var b;(b=s.value)===null||b===void 0||b.blur()},r=function(b){var P;(P=s.value)===null||P===void 0||P.scrollTo(b)},p=K(function(){var m=e.mode;if(m!=="combobox")return m===Vn?"combobox":m}),g=dt("select",e),w=g.prefixCls,y=g.direction,N=g.configProvider,M=g.size,k=g.getPrefixCls,H=K(function(){return k()}),E=K(function(){return ft(H.value,"slide-up",e.transitionName)}),C=K(function(){var m;return Oe((m={},X(m,"".concat(w.value,"-lg"),M.value==="large"),X(m,"".concat(w.value,"-sm"),M.value==="small"),X(m,"".concat(w.value,"-rtl"),y.value==="rtl"),X(m,"".concat(w.value,"-borderless"),!e.bordered),m))}),h=function(){for(var b=arguments.length,P=new Array(b),B=0;B<b;B++)P[B]=arguments[B];o("update:value",P[0]),o.apply(void 0,["change"].concat(P)),d.onFieldChange()},c=function(b){o("blur",b),d.onFieldBlur()};u({blur:f,focus:O,scrollTo:r});var D=K(function(){return p.value==="multiple"||p.value==="tags"});return function(){var m,b,P=e.notFoundContent,B=e.listHeight,G=B===void 0?256:B,U=e.listItemHeight,Y=U===void 0?24:U,z=e.getPopupContainer,q=e.dropdownClassName,J=e.virtual,re=e.dropdownMatchSelectWidth,Z=e.id,W=Z===void 0?d.id.value:Z,ce=e.placeholder,se=ce===void 0?(m=l.placeholder)===null||m===void 0?void 0:m.call(l):ce,ae=N.renderEmpty,de=N.getPopupContainer,pe;P!==void 0?pe=P:l.notFoundContent?pe=l.notFoundContent():p.value==="combobox"?pe=null:pe=ae("Select");var ee=vo(L(L({},e),{multiple:D.value,prefixCls:w.value}),l),Fe=ee.suffixIcon,fe=ee.itemIcon,Pe=ee.removeIcon,_e=ee.clearIcon,T=ze(e,["prefixCls","suffixIcon","itemIcon","removeIcon","clearIcon","size","bordered"]),i=Oe(q,X({},"".concat(w.value,"-dropdown-").concat(y.value),y.value==="rtl"));return V(co,oe(oe(oe({ref:s,virtual:J,dropdownMatchSelectWidth:re},T),t),{},{placeholder:se,listHeight:G,listItemHeight:Y,mode:p.value,prefixCls:w.value,direction:y.value,inputIcon:Fe,menuItemSelectedIcon:fe,removeIcon:Pe,clearIcon:_e,notFoundContent:pe,class:[C.value,t.class],getPopupContainer:z||de,dropdownClassName:i,onChange:h,onBlur:c,id:W,dropdownRender:T.dropdownRender||l.dropdownRender,transitionName:E.value,children:(b=l.default)===null||b===void 0?void 0:b.call(l),tagRender:e.tagRender||l.tagRender,optionLabelRender:l.optionLabel,maxTagPlaceholder:e.maxTagPlaceholder||l.maxTagPlaceholder}),{option:l.option})}}});ye.install=function(n){return n.component(ye.name,ye),n.component(ye.Option.displayName,ye.Option),n.component(ye.OptGroup.displayName,ye.OptGroup),n};var Io=ye.Option;ye.OptGroup;const Oo=ye;export{zt as B,Io as S,Oo as _,un as a,$t as b,oo as c,Co as d,kn as e,vo as g,po as s,Ln as t,kt as u};
