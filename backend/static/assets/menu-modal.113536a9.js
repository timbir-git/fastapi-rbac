import"./default.76e08716.js";import{M as Ia}from"./index.cef07818.js";import"./index.0857d90f.js";import{_ as _a,I as ka,F as Ta}from"./index.0e96b1ad.js";import"./index.b2c65497.js";import{u as Ea}from"./index.5ec54e89.js";import{u as Na,a as Va,b as La,c as Da,d as Ka,t as Ze,B as Pa,e as Fa,g as Oa,S as Ma,_ as Ha}from"./index.b49a664b.js";import{u as Aa}from"./useModal.67c34fed.js";import{r as Ba,i as Ra,m as ja,a as Ua}from"./conf.a6a301e5.js";import{g as Wa,a as $a,p as za}from"./menu.5caae388.js";import{i as Ga,y as Ya,E as Ye,r as Ke,c as K,H as ke,Y as Qa,O as Q,Z as ae,e as C,D as Z,m as w,V as Xa,A as _e,bl as Za,P as Pe,_ as ie,x as pe,a0 as ua,aN as ue,b0 as ia,X as me,n as qa,Q as Ja,ah as qe,G as et,B as Je,af as at,a as tt,o as De,b as ea,w as G,f as k,F as nt,aD as lt,aE as aa,aF as rt,h as ot,aG as ut,a$ as it,cI as ct,u as dt}from"./index.ab0d47a4.js";import{_ as st}from"./_plugin-vue_export-helper.cdc0426e.js";import{K as he}from"./KeyCode.99f746d5.js";import{T as vt,c as ft,a as $e,u as ht,r as pt}from"./iconUtil.60568eec.js";import{w as Fe}from"./useFlexGapSupport.f5eec5c4.js";import{u as ta}from"./useState.01763bb3.js";import"./index.9c196d1a.js";import"./index.8c51b797.js";function mt(t){return Array.isArray(t)?t:t!==void 0?[t]:[]}function yt(t){var e=t||{},u=e.label,n=e.value,o=e.children,r=n||"value";return{_title:u?[u]:["title","label"],value:r,key:r,children:o||"children"}}function ze(t){return t.disabled||t.disableCheckbox||t.checkable===!1}function gt(t,e){var u=[];function n(o){o.forEach(function(r){u.push(r[e.value]);var a=r[e.children];a&&n(a)})}return n(t),u}function na(t){return t==null}var ca=Symbol("TreeSelectContextPropsKey");function bt(t){return Ya(ca,t)}function Ct(){return Ga(ca,{})}var wt={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0};const St=Ye({name:"OptionList",inheritAttrs:!1,slots:["notFoundContent","menuItemSelectedIcon"],setup:function(e,u){var n=u.slots,o=u.expose,r=Na(),a=Va(),l=Ct(),s=Ke(),i=La(function(){return l.treeData},[function(){return r.open},function(){return l.treeData}],function(b){return b[0]}),h=K(function(){var b=a.checkable,c=a.halfCheckedKeys,S=a.checkedKeys;return b?{checked:S,halfChecked:c}:null});ke(function(){return r.open},function(){Qa(function(){var b;r.open&&!r.multiple&&a.checkedKeys.length&&((b=s.value)===null||b===void 0||b.scrollTo({key:a.checkedKeys[0]}))})},{immediate:!0,flush:"post"});var y=K(function(){return String(r.searchValue).toLowerCase()}),f=function(c){return y.value?String(c[a.treeNodeFilterProp]).toLowerCase().includes(y.value):!1},I=Q(a.treeDefaultExpandedKeys),p=Q(null);ke(function(){return r.searchValue},function(){r.searchValue&&(p.value=gt(ae(l.treeData),ae(l.fieldNames)))},{immediate:!0});var d=K(function(){return a.treeExpandedKeys?a.treeExpandedKeys.slice():r.searchValue?p.value:I.value}),B=function(c){var S;I.value=c,p.value=c,(S=a.onTreeExpand)===null||S===void 0||S.call(a,c)},g=function(c){c.preventDefault()},L=function(c,S){var O=S.node,R,A,j=a.checkable,P=a.checkedKeys;j&&ze(O)||((R=l.onSelect)===null||R===void 0||R.call(l,O.key,{selected:!P.includes(O.key)}),r.multiple||(A=r.toggleOpen)===null||A===void 0||A.call(r,!1))},_=Ke(null),T=K(function(){return a.keyEntities[_.value]}),z=function(c){_.value=c};return o({scrollTo:function(){for(var c,S,O,R=arguments.length,A=new Array(R),j=0;j<R;j++)A[j]=arguments[j];return(O=(S=s.value)===null||S===void 0?void 0:S.scrollTo)===null||O===void 0?void 0:(c=O).call.apply(c,[S].concat(A))},onKeydown:function(c){var S,O=c.which;switch(O){case he.UP:case he.DOWN:case he.LEFT:case he.RIGHT:(S=s.value)===null||S===void 0||S.onKeydown(c);break;case he.ENTER:{if(T.value){var R=T.value.node||{},A=R.selectable,j=R.value;A!==!1&&L(null,{node:{key:_.value},selected:!a.checkedKeys.includes(j)})}break}case he.ESC:r.toggleOpen(!1)}},onKeyup:function(){}}),function(){var b,c=r.prefixCls,S=r.multiple,O=r.searchValue,R=r.open,A=r.notFoundContent,j=A===void 0?(b=n.notFoundContent)===null||b===void 0?void 0:b.call(n):A,P=l.listHeight,E=l.listItemHeight,N=l.virtual,$=a.checkable,ce=a.treeDefaultExpandAll,de=a.treeIcon,te=a.showTreeIcon,ne=a.switcherIcon,ye=a.treeLine,se=a.loadData,q=a.treeLoadedKeys,le=a.treeMotion,ve=a.onTreeLoad,ge=a.checkedKeys;if(i.value.length===0)return C("div",{role:"listbox",class:"".concat(c,"-empty"),onMousedown:g},[j]);var J={fieldNames:l.fieldNames};return q&&(J.loadedKeys=q),d.value&&(J.expandedKeys=d.value),C("div",{onMousedown:g},[T.value&&R&&C("span",{style:wt,"aria-live":"assertive"},[T.value.node.value]),C(vt,Z(Z({ref:s,focusable:!1,prefixCls:"".concat(c,"-tree"),treeData:i.value,height:P,itemHeight:E,virtual:N,multiple:S,icon:de,showIcon:te,switcherIcon:ne,showLine:ye,loadData:O?null:se,motion:le,activeKey:_.value,checkable:$,checkStrictly:!0,checkedKeys:h.value,selectedKeys:$?[]:ge,defaultExpandAll:ce},J),{},{onActiveChange:z,onSelect:L,onCheck:L,onExpand:B,onLoad:ve,filterTreeNode:f}),w(w({},n),{checkable:a.customSlots.treeCheckable}))])}}});var xt="SHOW_ALL",da="SHOW_PARENT",Qe="SHOW_CHILD";function la(t,e,u,n){var o=new Set(t);return e===Qe?t.filter(function(r){var a=u[r];return!(a&&a.children&&a.children.some(function(l){var s=l.node;return o.has(s[n.value])})&&a.children.every(function(l){var s=l.node;return ze(s)||o.has(s[n.value])}))}):e===da?t.filter(function(r){var a=u[r],l=a?a.parent:null;return!(l&&!ze(l.node)&&o.has(l.key))}):t}var Oe=function(){return null};Oe.inheritAttrs=!1;Oe.displayName="ATreeSelectNode";Oe.isTreeSelectNode=!0;const Xe=Oe;var It=globalThis&&globalThis.__rest||function(t,e){var u={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(u[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(u[n[o]]=t[n[o]]);return u};function _t(t){return t&&t.type&&t.type.isTreeSelectNode}function kt(t){function e(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Xa(u).map(function(n){var o,r,a;if(!_t(n))return null;for(var l=n.children||{},s=n.key,i={},h=0,y=Object.entries(n.props);h<y.length;h++){var f=_e(y[h],2),I=f[0],p=f[1];i[Za(I)]=p}var d=i.isLeaf,B=i.checkable,g=i.selectable,L=i.disabled,_=i.disableCheckbox,T={isLeaf:d||d===""||void 0,checkable:B||B===""||void 0,selectable:g||g===""||void 0,disabled:L||L===""||void 0,disableCheckbox:_||_===""||void 0},z=w(w({},i),T),b=i.title,c=b===void 0?(o=l.title)===null||o===void 0?void 0:o.call(l,z):b,S=i.switcherIcon,O=S===void 0?(r=l.switcherIcon)===null||r===void 0?void 0:r.call(l,z):S,R=It(i,["title","switcherIcon"]),A=(a=l.default)===null||a===void 0?void 0:a.call(l),j=w(w(w({},R),{title:c,switcherIcon:O,key:s,isLeaf:d}),T),P=e(A);return P.length&&(j.children=P),j})}return e(t)}function Ge(t){if(!t)return t;var e=w({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return e}}),e}function Tt(t,e,u,n,o,r){var a=null,l=null;function s(){function i(h){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return h.map(function(I,p){var d="".concat(y,"-").concat(p),B=I[r.value],g=u.includes(B),L=i(I[r.children]||[],d,g),_=C(Xe,I,{default:function(){return[L.map(function(b){return b.node})]}});if(e===B&&(a=_),g){var T={pos:d,node:_,children:L};return f||l.push(T),T}return null}).filter(function(I){return I})}l||(l=[],i(n),l.sort(function(h,y){var f=h.node.props.value,I=y.node.props.value,p=u.indexOf(f),d=u.indexOf(I);return p-d}))}Object.defineProperty(t,"triggerNode",{get:function(){return s(),a}}),Object.defineProperty(t,"allCheckedNodes",{get:function(){return s(),o?l:l.map(function(h){var y=h.node;return y})}})}function Et(t,e){var u=e.id,n=e.pId,o=e.rootPId,r={},a=[],l=t.map(function(s){var i=w({},s),h=i[u];return r[h]=i,i.key=i.key||h,i});return l.forEach(function(s){var i=s[n],h=r[i];h&&(h.children=h.children||[],h.children.push(s)),(i===o||!h&&o===null)&&a.push(s)}),a}function Nt(t,e,u){var n=Q();return ke([u,t,e],function(){var o=u.value;t.value?n.value=u.value?Et(ae(t.value),w({id:"id",pId:"pId",rootPId:null},o!==!0?o:{})):ae(t.value).slice():n.value=kt(ae(e.value))},{immediate:!0,deep:!0}),n}const Vt=function(t){var e=Q({valueLabels:new Map}),u=Q();ke(t,function(){u.value=ae(t.value)},{immediate:!0});var n=K(function(){var o=e.value.valueLabels,r=new Map,a=u.value.map(function(l){var s,i=l.value,h=(s=l.label)!==null&&s!==void 0?s:o.get(i);return r.set(i,h),w(w({},l),{label:h})});return e.value.valueLabels=r,a});return[n]},Lt=function(t,e){var u=Q(new Map),n=Q({});return Pe(function(){var o=e.value,r=ft(t.value,{fieldNames:o,initWrapper:function(l){return w(w({},l),{valueEntities:new Map})},processEntity:function(l,s){var i=l.node[o.value];s.valueEntities.set(i,l)}});u.value=r.valueEntities,n.value=r.keyEntities}),{valueEntities:u,keyEntities:n}},Dt=function(t,e,u,n,o,r){var a=Q([]),l=Q([]);return Pe(function(){var s=t.value.map(function(f){var I=f.value;return I}),i=e.value.map(function(f){var I=f.value;return I}),h=s.filter(function(f){return!n.value[f]});if(u.value){var y=$e(s,!0,n.value,o.value,r.value);s=y.checkedKeys,i=y.halfCheckedKeys}a.value=Array.from(new Set([].concat(ie(h),ie(s)))),l.value=i}),[a,l]},Kt=function(t,e,u){var n=u.treeNodeFilterProp,o=u.filterTreeNode,r=u.fieldNames;return K(function(){var a=r.value.children,l=e.value,s=n==null?void 0:n.value;if(!l||o.value===!1)return t.value;var i;if(typeof o.value=="function")i=o.value;else{var h=l.toUpperCase();i=function(I,p){var d=p[s];return String(d).toUpperCase().includes(h)}}function y(f){for(var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=[],d=0,B=f.length;d<B;d++){var g=f[d],L=g[a],_=I||i(l,Ge(g)),T=y(L||[],_);(_||T.length)&&p.push(w(w({},g),pe({},a,T)))}return p}return y(t.value)})};function sa(){return w(w({},Fe(Fa(),["mode"])),{prefixCls:String,id:String,value:{type:[String,Number,Object,Array]},defaultValue:{type:[String,Number,Object,Array]},onChange:{type:Function},searchValue:String,inputValue:String,onSearch:{type:Function},autoClearSearchValue:{type:Boolean,default:void 0},filterTreeNode:{type:[Boolean,Function],default:void 0},treeNodeFilterProp:String,onSelect:Function,onDeselect:Function,showCheckedStrategy:{type:String},treeNodeLabelProp:String,fieldNames:{type:Object},multiple:{type:Boolean,default:void 0},treeCheckable:{type:Boolean,default:void 0},treeCheckStrictly:{type:Boolean,default:void 0},labelInValue:{type:Boolean,default:void 0},treeData:{type:Array},treeDataSimpleMode:{type:[Boolean,Object],default:void 0},loadData:{type:Function},treeLoadedKeys:{type:Array},onTreeLoad:{type:Function},treeDefaultExpandAll:{type:Boolean,default:void 0},treeExpandedKeys:{type:Array},treeDefaultExpandedKeys:{type:Array},onTreeExpand:{type:Function},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,onDropdownVisibleChange:{type:Function},treeLine:{type:[Boolean,Object],default:void 0},treeIcon:me.any,showTreeIcon:{type:Boolean,default:void 0},switcherIcon:me.any,treeMotion:me.any,children:Array,showArrow:{type:Boolean,default:void 0},showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},placeholder:me.any,maxTagPlaceholder:{type:Function},dropdownPopupAlign:me.any,customSlots:Object})}function Pt(t){return!t||qa(t)!=="object"}const Ft=Ye({name:"TreeSelect",inheritAttrs:!1,props:ua(sa(),{treeNodeFilterProp:"value",autoClearSearchValue:!0,showCheckedStrategy:Qe,listHeight:200,listItemHeight:20,prefixCls:"vc-tree-select"}),setup:function(e,u){var n=u.attrs,o=u.expose,r=u.slots,a=Da(ue(e,"id")),l=K(function(){return e.treeCheckable&&!e.treeCheckStrictly}),s=K(function(){return e.treeCheckable||e.treeCheckStrictly}),i=K(function(){return e.treeCheckStrictly||e.labelInValue}),h=K(function(){return s.value||e.multiple}),y=K(function(){return yt(e.fieldNames)}),f=ta("",{value:K(function(){return e.searchValue!==void 0?e.searchValue:e.inputValue}),postState:function(v){return v||""}}),I=_e(f,2),p=I[0],d=I[1],B=function(v){var m;d(v),(m=e.onSearch)===null||m===void 0||m.call(e,v)},g=Nt(ue(e,"treeData"),ue(e,"children"),ue(e,"treeDataSimpleMode")),L=Lt(g,y),_=L.keyEntities,T=L.valueEntities,z=function(v){var m=[],x=[];return v.forEach(function(D){T.value.has(D)?x.push(D):m.push(D)}),{missingRawValues:m,existRawValues:x}},b=Kt(g,p,{fieldNames:y,treeNodeFilterProp:ue(e,"treeNodeFilterProp"),filterTreeNode:ue(e,"filterTreeNode")}),c=function(v){if(v){if(e.treeNodeLabelProp)return v[e.treeNodeLabelProp];for(var m=y.value._title,x=0;x<m.length;x+=1){var D=v[m[x]];if(D!==void 0)return D}}},S=function(v){var m=mt(v);return m.map(function(x){return Pt(x)?{value:x}:x})},O=function(v){var m=S(v);return m.map(function(x){var D=x.label,F=x.value,H=x.halfChecked,U,W=T.value.get(F);return W&&(D=D!=null?D:c(W.node),U=W.node.disabled),{label:D,value:F,halfChecked:H,disabled:U}})},R=ta(e.defaultValue,{value:ue(e,"value")}),A=_e(R,2),j=A[0],P=A[1],E=K(function(){return S(j.value)}),N=Q([]),$=Q([]);Pe(function(){var V=[],v=[];E.value.forEach(function(m){m.halfChecked?v.push(m):V.push(m)}),N.value=V,$.value=v});var ce=K(function(){return N.value.map(function(V){return V.value})}),de=ht(_),te=de.maxLevel,ne=de.levelEntities,ye=Dt(N,$,l,_,te,ne),se=_e(ye,2),q=se[0],le=se[1],ve=K(function(){var V=la(q.value,e.showCheckedStrategy,_.value,y.value),v=V.map(function(F){var H,U,W;return(W=(U=(H=_.value[F])===null||H===void 0?void 0:H.node)===null||U===void 0?void 0:U[y.value.value])!==null&&W!==void 0?W:F}),m=v.map(function(F){var H=N.value.find(function(U){return U.value===F});return{value:F,label:H==null?void 0:H.label}}),x=O(m),D=x[0];return!h.value&&D&&na(D.value)&&na(D.label)?[]:x.map(function(F){var H;return w(w({},F),{label:(H=F.label)!==null&&H!==void 0?H:F.value})})}),ge=Vt(ve),J=_e(ge,1),Me=J[0],fe=function(v,m,x){var D=O(v);if(P(D),e.autoClearSearchValue&&d(""),e.onChange){var F=v;if(l.value){var H=la(v,e.showCheckedStrategy,_.value,y.value);F=H.map(function(X){var xe=T.value.get(X);return xe?xe.node[y.value.value]:X})}var U=m||{triggerValue:void 0,selected:void 0},W=U.triggerValue,we=U.selected,re=F;if(e.treeCheckStrictly){var oe=$.value.filter(function(X){return!F.includes(X.value)});re=[].concat(ie(re),ie(oe))}var Y=O(re),ee={preValue:N.value,triggerValue:W},Se=!0;(e.treeCheckStrictly||x==="selection"&&!we)&&(Se=!1),Tt(ee,W,v,g.value,Se,y.value),s.value?ee.checked=we:ee.selected=we;var Le=i.value?Y:Y.map(function(X){return X.value});e.onChange(h.value?Le:Le[0],i.value?null:Y.map(function(X){return X.label}),ee)}},Te=function(v,m){var x=m.selected,D=m.source,F,H,U,W=ae(_.value),we=ae(T.value),re=W[v],oe=re==null?void 0:re.node,Y=(F=oe==null?void 0:oe[y.value.value])!==null&&F!==void 0?F:v;if(!h.value)fe([Y],{selected:!0,triggerValue:Y},"option");else{var ee=x?[].concat(ie(ce.value),[Y]):q.value.filter(function(Ie){return Ie!==Y});if(l.value){var Se=z(ee),Le=Se.missingRawValues,X=Se.existRawValues,xe=X.map(function(Ie){return we.get(Ie).key}),Ue;if(x){var Sa=$e(xe,!0,W,te.value,ne.value);Ue=Sa.checkedKeys}else{var xa=$e(xe,{checked:!1,halfCheckedKeys:le.value},W,te.value,ne.value);Ue=xa.checkedKeys}ee=[].concat(ie(Le),ie(Ue.map(function(Ie){return W[Ie].node[y.value.value]})))}fe(ee,{selected:x,triggerValue:Y},D||"option")}x||!h.value?(H=e.onSelect)===null||H===void 0||H.call(e,Y,Ge(oe)):(U=e.onDeselect)===null||U===void 0||U.call(e,Y,Ge(oe))},be=function(v){if(e.onDropdownVisibleChange){var m={};Object.defineProperty(m,"documentClickClose",{get:function(){return!1}}),e.onDropdownVisibleChange(v,m)}},He=function(v,m){var x=v.map(function(D){return D.value});if(m.type==="clear"){fe(x,{},"selection");return}m.values.length&&Te(m.values[0].value,{selected:!1,source:"selection"})},M=ia(e),Ae=M.treeNodeFilterProp,Ce=M.loadData,Be=M.treeLoadedKeys,Re=M.onTreeLoad,Ee=M.treeDefaultExpandAll,Ne=M.treeExpandedKeys,je=M.treeDefaultExpandedKeys,va=M.onTreeExpand,fa=M.virtual,ha=M.listHeight,pa=M.listItemHeight,ma=M.treeLine,ya=M.treeIcon,ga=M.showTreeIcon,ba=M.switcherIcon,Ca=M.treeMotion,wa=M.customSlots;Ka(Ze({checkable:s,loadData:Ce,treeLoadedKeys:Be,onTreeLoad:Re,checkedKeys:q,halfCheckedKeys:le,treeDefaultExpandAll:Ee,treeExpandedKeys:Ne,treeDefaultExpandedKeys:je,onTreeExpand:va,treeIcon:ya,treeMotion:Ca,showTreeIcon:ga,switcherIcon:ba,treeLine:ma,treeNodeFilterProp:Ae,keyEntities:_,customSlots:wa})),bt(Ze({virtual:fa,listHeight:ha,listItemHeight:pa,treeData:b,fieldNames:y,onSelect:Te}));var Ve=Ke();return o({focus:function(){var v;(v=Ve.value)===null||v===void 0||v.focus()},blur:function(){var v;(v=Ve.value)===null||v===void 0||v.blur()},scrollTo:function(v){var m;(m=Ve.value)===null||m===void 0||m.scrollTo(v)}}),function(){var V,v=Fe(e,["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","virtual","listHeight","listItemHeight","onDropdownVisibleChange","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion"]);return C(Pa,Z(Z(Z({ref:Ve},n),v),{},{id:a,prefixCls:e.prefixCls,mode:h.value?"multiple":void 0,displayValues:Me.value,onDisplayValuesChange:He,searchValue:p.value,onSearch:B,OptionList:St,emptyOptions:!g.value.length,onDropdownVisibleChange:be,tagRender:e.tagRender||r.tagRender,dropdownMatchSelectWidth:(V=e.dropdownMatchSelectWidth)!==null&&V!==void 0?V:!0}),r)}}});var ra=function(e,u,n){return n!==void 0?n:"".concat(e,"-").concat(u)};function Ot(){return w(w({},Fe(sa(),["showTreeIcon","treeMotion","inputIcon","getInputElement","treeLine","customSlots"])),{suffixIcon:me.any,size:{type:String},bordered:{type:Boolean,default:void 0},treeLine:{type:[Boolean,Object],default:void 0},replaceFields:{type:Object},"onUpdate:value":{type:Function},"onUpdate:treeExpandedKeys":{type:Function},"onUpdate:searchValue":{type:Function}})}var We=Ye({name:"ATreeSelect",inheritAttrs:!1,props:ua(Ot(),{choiceTransitionName:"",listHeight:256,treeIcon:!1,listItemHeight:26,bordered:!0}),slots:["title","titleRender","placeholder","maxTagPlaceholder","treeIcon","switcherIcon","notFoundContent"],setup:function(e,u){var n=u.attrs,o=u.slots,r=u.expose,a=u.emit;Ja(!(e.treeData===void 0&&o.default)),Pe(function(){qe(e.multiple!==!1||!e.treeCheckable,"TreeSelect","`multiple` will always be `true` when `treeCheckable` is true"),qe(e.replaceFields===void 0,"TreeSelect","`replaceFields` is deprecated, please use fieldNames instead")});var l=Ea(),s=et("select",e),i=s.prefixCls,h=s.renderEmpty,y=s.direction,f=s.virtual,I=s.dropdownMatchSelectWidth,p=s.size,d=s.getPopupContainer,B=s.getPrefixCls,g=K(function(){return B()}),L=K(function(){return ra(g.value,"slide-up",e.transitionName)}),_=K(function(){return ra(g.value,"",e.choiceTransitionName)}),T=K(function(){return B("select-tree",e.prefixCls)}),z=K(function(){return B("tree-select",e.prefixCls)}),b=K(function(){return Je(e.dropdownClassName,"".concat(z.value,"-dropdown"),pe({},"".concat(z.value,"-dropdown-rtl"),y.value==="rtl"))}),c=K(function(){return!!(e.treeCheckable||e.multiple)}),S=Ke();r({focus:function(){var E,N;(N=(E=S.value).focus)===null||N===void 0||N.call(E)},blur:function(){var E,N;(N=(E=S.value).blur)===null||N===void 0||N.call(E)}});var O=function(){for(var E=arguments.length,N=new Array(E),$=0;$<E;$++)N[$]=arguments[$];a("update:value",N[0]),a.apply(void 0,["change"].concat(N)),l.onFieldChange()},R=function(E){a("update:treeExpandedKeys",E),a("treeExpand",E)},A=function(E){a("update:searchValue",E),a("search",E)},j=function(E){a("blur",E),l.onFieldBlur()};return function(){var P,E,N,$=e.notFoundContent,ce=$===void 0?(E=o.notFoundContent)===null||E===void 0?void 0:E.call(o):$,de=e.prefixCls,te=e.bordered,ne=e.listHeight,ye=e.listItemHeight,se=e.multiple,q=e.treeIcon,le=e.treeLine,ve=e.switcherIcon,ge=ve===void 0?(N=o.switcherIcon)===null||N===void 0?void 0:N.call(o):ve,J=e.fieldNames,Me=J===void 0?e.replaceFields:J,fe=e.id,Te=fe===void 0?l.id.value:fe,be=Oa(w(w({},e),{multiple:c.value,prefixCls:i.value}),o),He=be.suffixIcon,M=be.removeIcon,Ae=be.clearIcon,Ce;ce!==void 0?Ce=ce:Ce=h.value("Select");var Be=Fe(e,["suffixIcon","itemIcon","removeIcon","clearIcon","switcherIcon","bordered","onUpdate:value","onUpdate:treeExpandedKeys","onUpdate:searchValue"]),Re=Je(!de&&z.value,(P={},pe(P,"".concat(i.value,"-lg"),p.value==="large"),pe(P,"".concat(i.value,"-sm"),p.value==="small"),pe(P,"".concat(i.value,"-rtl"),y.value==="rtl"),pe(P,"".concat(i.value,"-borderless"),!te),P),n.class),Ee={};return e.treeData===void 0&&o.default&&(Ee.children=at(o.default())),C(Ft,Z(Z(Z(Z({},n),Be),{},{virtual:f.value,dropdownMatchSelectWidth:I.value,id:Te,fieldNames:Me,ref:S,prefixCls:i.value,class:Re,listHeight:ne,listItemHeight:ye,treeLine:!!le,inputIcon:He,multiple:se,removeIcon:M,clearIcon:Ae,switcherIcon:function(je){return pt(T.value,ge,le,je)},showTreeIcon:q,notFoundContent:Ce,getPopupContainer:d.value,treeMotion:null,dropdownClassName:b.value,choiceTransitionName:_.value,onChange:O,onBlur:j,onSearch:A,onTreeExpand:R},Ee),{},{transitionName:L.value,customSlots:w(w({},o),{treeCheckable:function(){return C("span",{class:"".concat(i.value,"-tree-checkbox-inner")},null)}}),maxTagPlaceholder:e.maxTagPlaceholder||o.maxTagPlaceholder}),w(w({},o),{treeCheckable:function(){return C("span",{class:"".concat(i.value,"-tree-checkbox-inner")},null)}}))}}}),oa=Xe;const Mt=w(We,{TreeNode:Xe,SHOW_ALL:xt,SHOW_PARENT:da,SHOW_CHILD:Qe,install:function(e){return e.component(We.name,We),e.component(oa.displayName,oa),e}});const Ht={class:"menu-modal"},At={__name:"menu-modal",props:{modalTitle:{type:String},modalType:{type:String,default:"create"}},setup(t,{expose:e}){const u=t,{showModal:n,updateId:o,formRef:r}=Aa(),a=tt({menuForm:{name:"",icon:null,path:null,type:0,component:null,pid:0,identifier:null,api:null,method:null},menusOptions:[]}),l=(p,d)=>d.name.toLowerCase().indexOf(p.toLowerCase())>=0,s=(p,d)=>{if(d.value)return d.value.toLowerCase().indexOf(p.toLowerCase())>=0};ke(n,async p=>{if(p){const d=await Wa();a.menusOptions=d.data,a.menusOptions.unshift({id:0,name:"\u9876\u5C42\u83DC\u5355"})}});const i=p=>{n.value=!0,o.value=p.id,a.menuForm=p},h=()=>{r.value.validateFields().then(async()=>{let p;u.modalType==="create"?p=await $a(a.menuForm):p=await za(o.value,a.menuForm),ct(p),r.value.resetFields(),n.value=!n.value,dt().isPush=!0})},y=()=>{r.value.resetFields()},{menuForm:f,menusOptions:I}=ia(a);return e({openModal:i,showModal:n}),(p,d)=>{const B=Mt,g=_a,L=ka,_=Ma,T=Ha,z=Ta,b=Ia;return De(),ea("div",Ht,[C(b,{visible:k(n),"onUpdate:visible":d[9]||(d[9]=c=>it(n)?n.value=c:null),title:u.modalTitle,"ok-text":"\u786E\u8BA4","cancel-text":"\u53D6\u6D88",onOk:h,onCancel:y},{default:G(()=>[C(z,{ref_key:"formRef",ref:r,model:k(f),class:"form",rules:k(Ba)},{default:G(()=>[C(g,{name:"pid",label:"\u4E0A\u7EA7\u83DC\u5355",class:"item"},{default:G(()=>[C(B,{value:k(f).pid,"onUpdate:value":d[0]||(d[0]=c=>k(f).pid=c),"show-search":"",style:{width:"100%"},"dropdown-style":{maxHeight:"400px",overflow:"auto"},"allow-clear":"","tree-data":k(I),"field-names":{children:"children",label:"name",value:"id"},filterTreeNode:l},null,8,["value","tree-data"])]),_:1}),C(g,{name:"name",label:"\u540D\u79F0"},{default:G(()=>[C(L,{value:k(f).name,"onUpdate:value":d[1]||(d[1]=c=>k(f).name=c)},null,8,["value"])]),_:1}),C(g,{name:"icon",label:"\u56FE\u6807"},{default:G(()=>[C(T,{value:k(f).icon,"onUpdate:value":d[2]||(d[2]=c=>k(f).icon=c),style:{width:"100%"},"show-search":"",filterOption:s},{default:G(()=>[(De(!0),ea(nt,null,lt(k(Ra)(),c=>(De(),aa(_,{key:c.value,value:c.value},{default:G(()=>[(De(),aa(rt(p.$loadIconCpn(c.label)))),ot(" "+ut(c.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),C(g,{name:"path",label:"\u8DEF\u7531"},{default:G(()=>[C(L,{value:k(f).path,"onUpdate:value":d[3]||(d[3]=c=>k(f).path=c)},null,8,["value"])]),_:1}),C(g,{name:"type",label:"\u7C7B\u578B"},{default:G(()=>[C(T,{value:k(f).type,"onUpdate:value":d[4]||(d[4]=c=>k(f).type=c),style:{width:"100%"},options:k(ja)()},null,8,["value","options"])]),_:1}),C(g,{name:"component",label:"\u7EC4\u4EF6"},{default:G(()=>[C(L,{value:k(f).component,"onUpdate:value":d[5]||(d[5]=c=>k(f).component=c),placeholder:"views/main"},null,8,["value"])]),_:1}),C(g,{name:"identifier",label:"\u6743\u9650"},{default:G(()=>[C(L,{value:k(f).identifier,"onUpdate:value":d[6]||(d[6]=c=>k(f).identifier=c)},null,8,["value"])]),_:1}),C(g,{name:"api",label:"\u63A5\u53E3"},{default:G(()=>[C(L,{value:k(f).api,"onUpdate:value":d[7]||(d[7]=c=>k(f).api=c)},null,8,["value"])]),_:1}),C(g,{name:"method",label:"\u65B9\u6CD5"},{default:G(()=>[C(T,{value:k(f).method,"onUpdate:value":d[8]||(d[8]=c=>k(f).method=c),style:{width:"100%"},options:k(Ua)()},null,8,["value","options"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["visible","title"])])}}},ln=st(At,[["__scopeId","data-v-99d1ea94"]]);export{ln as default};
